/**
 * VASynth Editor Styles
 * Uses Zenith design system for consistency
 */

.vasynth-editor {
  display: flex;
  flex-direction: column;
  gap: var(--zenith-space-5, 1.25rem);
}

/* Section */
.vasynth-editor__section {
  background: var(--zenith-bg-secondary);
  border-radius: var(--border-radius-md, 8px);
  padding: var(--zenith-space-4, 1rem);
  border: 1px solid var(--zenith-border-medium);
}

.vasynth-editor__section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--zenith-space-3, 0.75rem);
}

.vasynth-editor__section-title {
  font-size: var(--zenith-text-sm, 0.75rem);
  font-weight: var(--zenith-weight-semibold, 600);
  color: var(--zenith-text-primary);
  text-transform: uppercase;
  letter-spacing: var(--zenith-tracking-wide, 0.025em);
}

/* Preset */
.vasynth-editor__preset-name {
  font-size: var(--zenith-text-xl, 1.25rem);
  font-weight: var(--zenith-weight-bold, 700);
  color: var(--zenith-accent-cold);
  margin-bottom: var(--zenith-space-3, 0.75rem);
}

.vasynth-editor__preset-hint {
  font-size: var(--zenith-text-sm, 0.75rem);
  line-height: var(--zenith-leading-relaxed, 1.75);
  color: var(--zenith-text-secondary);
}

/* Oscillators */
.vasynth-editor__oscillators {
  display: grid;
  grid-template-columns: repeat(3, minmax(150px, 1fr));
  gap: var(--zenith-space-3, 0.75rem);
  overflow-x: auto;
  overflow-y: hidden;
  padding-bottom: var(--zenith-space-2, 0.5rem);
}

/* Custom scrollbar for oscillators */
.vasynth-editor__oscillators::-webkit-scrollbar {
  height: 6px;
}

.vasynth-editor__oscillators::-webkit-scrollbar-track {
  background: var(--zenith-bg-tertiary);
  border-radius: 3px;
}

.vasynth-editor__oscillators::-webkit-scrollbar-thumb {
  background: var(--zenith-accent-cold);
  opacity: 0.3;
  border-radius: 3px;
}

.vasynth-editor__oscillators::-webkit-scrollbar-thumb:hover {
  opacity: 0.5;
}

.vasynth-editor__oscillator {
  background: var(--zenith-bg-tertiary);
  border-radius: var(--border-radius-sm, 6px);
  padding: var(--zenith-space-3, 0.75rem);
  border: 1px solid var(--zenith-border-subtle);
}

.vasynth-editor__oscillator-header {
  font-size: var(--zenith-text-xs, 0.625rem);
  font-weight: var(--zenith-weight-semibold, 600);
  color: var(--zenith-text-secondary);
  text-align: center;
  margin-bottom: var(--zenith-space-3, 0.75rem);
  letter-spacing: var(--zenith-tracking-wide, 0.025em);
}

.vasynth-editor__oscillator-controls {
  display: flex;
  justify-content: center;
  gap: var(--zenith-space-4, 1rem);
  margin-bottom: var(--zenith-space-3, 0.75rem);
}

.vasynth-editor__waveform-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--zenith-space-1, 0.25rem);
}

.vasynth-editor__waveform-btn {
  padding: var(--zenith-space-2, 0.5rem) var(--zenith-space-1, 0.25rem);
  background: var(--zenith-overlay-light);
  border: 1px solid var(--zenith-border-subtle);
  border-radius: var(--border-radius-sm, 4px);
  color: var(--zenith-text-tertiary);
  font-size: var(--zenith-text-xs, 0.625rem);
  font-weight: var(--zenith-weight-semibold, 600);
  cursor: pointer;
  transition: all 0.15s ease;
}

.vasynth-editor__waveform-btn:hover {
  background: var(--zenith-overlay-medium);
  color: var(--zenith-text-secondary);
  border-color: var(--zenith-border-medium);
}

.vasynth-editor__waveform-btn--active {
  background: var(--zenith-accent-cold);
  color: var(--zenith-text-primary);
  border-color: var(--zenith-accent-cold);
}

/* Filter */
.vasynth-editor__filter {
  display: flex;
  flex-direction: column;
  gap: var(--zenith-space-3, 0.75rem);
}

.vasynth-editor__filter-row {
  width: 100%;
}

/* ADSR */
.vasynth-editor__adsr {
  display: flex;
  justify-content: space-around;
  gap: var(--zenith-space-4, 1rem);
}

/* Keyboard */
.vasynth-editor__keyboard {
  display: flex;
  gap: 2px;
  height: 80px;
  position: relative;
}

.vasynth-editor__key {
  position: relative;
  cursor: pointer;
  border: none;
  transition: all 0.05s ease;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: var(--zenith-space-2, 0.5rem);
}

.vasynth-editor__key--white {
  flex: 1;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
  border: 1px solid rgba(0, 0, 0, 0.3);
  border-radius: 0 0 var(--border-radius-sm, 4px) var(--border-radius-sm, 4px);
  z-index: 1;
}

.vasynth-editor__key--white:hover {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.95));
  box-shadow: var(--zenith-shadow-sm);
}

.vasynth-editor__key--white:active,
.vasynth-editor__key--white.vasynth-editor__key--active {
  background: linear-gradient(to bottom, var(--zenith-accent-cool), rgba(var(--zenith-accent-cool-rgb), 0.8));
  box-shadow: inset var(--zenith-shadow-sm);
}

.vasynth-editor__key--black {
  position: absolute;
  width: 24px;
  height: 50px;
  background: linear-gradient(to bottom, var(--zenith-bg-secondary), var(--zenith-bg-primary));
  border: 1px solid rgba(0, 0, 0, 0.8);
  border-radius: 0 0 3px 3px;
  z-index: 2;
}

.vasynth-editor__key--black:hover {
  background: linear-gradient(to bottom, var(--zenith-bg-tertiary), var(--zenith-bg-secondary));
  box-shadow: var(--zenith-shadow-sm);
}

.vasynth-editor__key--black:active,
.vasynth-editor__key--black.vasynth-editor__key--active {
  background: linear-gradient(to bottom, var(--zenith-accent-cold), rgba(var(--zenith-accent-cool-rgb), 0.3));
  box-shadow: inset var(--zenith-shadow-sm);
}

/* Position black keys */
.vasynth-editor__key--black:nth-of-type(2) { left: calc((100% / 7) * 1 - 12px); }
.vasynth-editor__key--black:nth-of-type(4) { left: calc((100% / 7) * 2 - 12px); }
.vasynth-editor__key--black:nth-of-type(7) { left: calc((100% / 7) * 4 - 12px); }
.vasynth-editor__key--black:nth-of-type(9) { left: calc((100% / 7) * 5 - 12px); }
.vasynth-editor__key--black:nth-of-type(11) { left: calc((100% / 7) * 6 - 12px); }

.vasynth-editor__key-label {
  font-size: var(--zenith-text-xs, 0.625rem);
  color: var(--zenith-text-tertiary);
  font-weight: var(--zenith-weight-semibold, 600);
}

/* Modulation Panel */
.vasynth-editor__modulation-panel {
  display: flex;
  flex-direction: column;
  gap: var(--zenith-space-4, 1rem);
}

.vasynth-editor__lfo-controls {
  display: flex;
  gap: var(--zenith-space-4, 1rem);
  align-items: center;
}

.vasynth-editor__lfo-waveform {
  flex: 1;
}

.vasynth-editor__mod-target {
  display: flex;
  align-items: center;
  gap: var(--zenith-space-2, 0.5rem);
}

.vasynth-editor__mod-target label {
  font-size: var(--zenith-text-sm, 0.75rem);
  color: var(--zenith-text-secondary);
  font-weight: var(--zenith-weight-medium, 500);
}

/* Select Dropdown */
.vasynth-editor__select {
  flex: 1;
  padding: var(--zenith-space-2, 0.5rem) var(--zenith-space-3, 0.75rem);
  background: var(--zenith-bg-tertiary);
  border: 1px solid var(--zenith-border-subtle);
  border-radius: var(--border-radius-sm, 4px);
  color: var(--zenith-text-primary);
  font-size: var(--zenith-text-sm, 0.75rem);
  cursor: pointer;
  transition: all 0.15s ease;
}

.vasynth-editor__select:hover {
  border-color: var(--zenith-border-medium);
  background: var(--zenith-bg-secondary);
}

.vasynth-editor__select:focus {
  outline: none;
  border-color: var(--zenith-accent-cold);
  box-shadow: 0 0 0 2px rgba(var(--zenith-accent-cold-rgb), 0.2);
}

/* Effects Panel */
.vasynth-editor__effects-panel {
  display: flex;
  flex-direction: column;
  gap: var(--zenith-space-3, 0.75rem);
}

.vasynth-editor__effect-toggles {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: var(--zenith-space-2, 0.5rem);
}

.vasynth-editor__effect-btn {
  padding: var(--zenith-space-3, 0.75rem) var(--zenith-space-4, 1rem);
  background: var(--zenith-bg-tertiary);
  border: 1px solid var(--zenith-border-subtle);
  border-radius: var(--border-radius-sm, 6px);
  color: var(--zenith-text-secondary);
  font-size: var(--zenith-text-sm, 0.75rem);
  font-weight: var(--zenith-weight-semibold, 600);
  cursor: pointer;
  transition: all 0.2s ease;
}

.vasynth-editor__effect-btn:hover {
  background: var(--zenith-bg-secondary);
  border-color: var(--zenith-border-medium);
  transform: translateY(-1px);
  box-shadow: var(--zenith-shadow-sm);
}

.vasynth-editor__effect-btn--active {
  background: linear-gradient(135deg, var(--zenith-accent-cold), var(--zenith-accent-cool));
  color: var(--zenith-text-primary);
  border-color: var(--zenith-accent-cold);
  box-shadow: 0 0 12px rgba(var(--zenith-accent-cold-rgb), 0.3);
}

.vasynth-editor__hint {
  font-size: var(--zenith-text-xs, 0.625rem);
  color: var(--zenith-text-tertiary);
  text-align: center;
  font-style: italic;
}

/* Visual Feedback */
.vasynth-editor__visualizer {
  position: relative;
  width: 100%;
  height: 120px;
  background: var(--zenith-bg-tertiary);
  border-radius: var(--border-radius-sm, 6px);
  overflow: hidden;
  border: 1px solid var(--zenith-border-subtle);
}

.vasynth-editor__canvas {
  width: 100%;
  height: 100%;
  display: block;
}

.vasynth-editor__visualizer-overlay {
  position: absolute;
  top: var(--zenith-space-2, 0.5rem);
  left: var(--zenith-space-2, 0.5rem);
  font-size: var(--zenith-text-xs, 0.625rem);
  color: var(--zenith-text-tertiary);
  font-weight: var(--zenith-weight-semibold, 600);
  pointer-events: none;
}
